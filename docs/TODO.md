# 拼图棋游戏 - 待办事项清单

## 📋 项目状态

**当前阶段**: MVP 1.0 简化版本 - 一回合一动作 ✅  
**完成度**: 100% (MVP 1.0 简化完成！)  
**上次更新**: 2025-01-16  
**下次目标**: 用户测试与反馈收集

## 🎯 当前任务进度

### ✅ 已完成 (12/12) 🎉

- [x] 创建 ChessBoard.vue 组件
- [x] 实现棋盘渲染逻辑
- [x] 添加棋子选择与移动
- [x] 添加旋转棋子功能
- [x] 集成游戏状态显示
- [x] 填充规则面板内容
- [x] 添加移动提示功能
- [x] 设置棋盘为首页并清理旧代码
- [x] SVG 文件加载验证
- [x] 添加旋转控制 UI
- [x] 移除行动力系统，简化为一回合一动作
- [x] 创建完整游戏规则文档（GAME_RULES.md）

## 🎉 最新版本 v1.0 (2025-01-16)

### ✅ 简化规则 - 一回合一动作

**核心机制**:
- 🎯 每回合只能执行**一个动作**（移动或旋转）
- 🎯 完成动作后自动切换回合
- 🎯 简洁易懂，策略性强

**移动规则**:
- ✅ 可移动到棋盘**任意空位置**（无距离限制）
- ✅ 必须沿直线或对角线方向移动（8 方向）
- ✅ 目标格子**必须为空**（不允许重叠）
- ✅ 移动完成后自动切换回合

**旋转规则（智能限制）**:
1. **相邻移动（距离 = 1格）**：
   - ✅ 移动到相邻 8 格之一后，可选择是否旋转
   - ⚠️ 旋转后本次移动结束，切换回合
   
2. **远距离移动（距离 > 1格）**：
   - ❌ 不能旋转，只能移动
   - ✅ 适合快速占领位置
   
3. **鸟类棋子特权**：
   - 🦅 可原地旋转（不移动）
   - ⚠️ 原地旋转也算一个动作，会结束回合

**实现细节**:

**类型定义 (types/chess/index.ts)**:
- ✅ 简化 `GameState` 接口，移除 actionPoints、maxActionPoints、hasRotatedThisTurn
- ✅ 保留核心字段：currentPlayer、turnNumber、winner、board

**移动验证 (MoveValidator.ts)**:
- ✅ 移除距离限制（可移动任意距离）
- ✅ 目标必须为空（不可重叠）
- ✅ 旋转限制：距离 > 1 时不可旋转
- ✅ 鸟类原地旋转检查
- ✅ 添加中文注释

**游戏引擎 (GameEngine.ts)**:
- ✅ `initializeGameState()`: 移除行动力初始化
- ✅ `executeMove()`: 移除行动力检查，移动后自动切换回合
- ✅ `switchTurn()`: 移除行动力重置逻辑
- ✅ `rotatePiece()`: 简化逻辑，仅限鸟类原地旋转，旋转后切换回合
- ✅ 添加中文注释

**规则面板 (ChessBoard.vue)**:
- ✅ 移除行动力 computed 属性
- ✅ 更新游戏规则面板内容
- ✅ 新增"游戏目标"章节
- ✅ 简化"移动规则"章节
- ✅ 更新"旋转规则"详细说明
- ✅ 更新"操作指南"和"策略要点"

**文档**:
- ✅ 创建完整游戏规则文档（`docs/GAME_RULES.md`）
- ✅ 更新待办事项（`docs/TODO.md`）

**游戏机制对比**:

| 版本 | 行动力 | 每回合动作 | 旋转规则 | 重叠 |
|------|--------|-----------|---------|------|
| v0.5（已废弃） | 3 点 | 多次移动 | 距离限制 | 可重叠 |
| **v1.0（当前）** | 无 | **一次** | 智能限制 | 不可重叠 |

**策略深度**:
- 一回合一动作：需谨慎选择移动或旋转
- 远近平衡：远距离移动快速，相邻移动灵活
- 鸟类优势：原地旋转能力增加战术选择
- 位置卡位：占据关键位置阻碍对手

---

## 📚 规则演化历史

### v1.0 - 简化版本（当前）- 2025-01-16
- ✅ 一回合一动作机制
- ✅ 移除行动力系统
- ✅ 保留智能旋转规则
- ✅ 不可重叠
- ✅ 创建完整规则文档

### v0.5 - 行动力系统（已废弃）- 2025-01-16
- ❌ 每回合 3 点行动力
- ❌ 移动消耗 1 点
- ❌ 每回合限旋转 1 次

### v0.4 - 自由移动模式（已废弃）- 2025-01-15
- ❌ 无距离限制
- ❌ 允许重叠堆叠
- ❌ 移除边缘匹配

---

## ✅ UI 优化历史

### 删除棋子呼吸动画
- ❌ 删除 `.piece-wrapper` 的 `pulse-border` 动画
- ❌ 删除 `.piece-svg` 的 `pulse-player` 动画
- ✅ 保留静态高亮效果（彩色边框 + 发光）
- ✅ 视觉更简洁，性能更好

### 规则面板宽度优化
- ✅ 宽度：320px → 420px
- ✅ 内边距：1.5rem → 2rem
- ✅ 字体大小：0.95rem → 1rem
- ✅ 行高：1.7 → 1.8
- ✅ 更易阅读，内容不拥挤

---

**游戏机制**:
```typescript
// 旧规则（已移除）
❌ 移动 1-3 步
❌ 旋转时只能移动 1 步
❌ 边缘必须匹配
❌ 目标格子不能有棋子

// 新规则（当前）
✅ 移动任意步数（无限制）
✅ 无需考虑边缘匹配
✅ 棋子可以重叠堆叠
✅ 只能操作最顶端的棋子
✅ 完全自由移动
```

**玩法变化**:
- 游戏从"拼图策略游戏"简化为"快速竞速游戏"
- 重点从"边缘拼接"转为"路径规划和堆叠策略"
- 更适合快速上手和测试

---

### ✅ 棋子玩家归属视觉指示器

**问题描述**:
- 用户无法区分哪些棋子属于哪个玩家
- 特别是轮到指定玩家时，己方棋子需要明显的标识

**实现内容**:
- ✅ 添加棋子外层包装容器 (`.piece-wrapper`)
- ✅ 玩家1棋子：蓝色背景圆圈 + 蓝色内阴影边框
- ✅ 玩家2棋子：红色背景圆圈 + 红色内阴影边框
- ✅ 当前玩家棋子：更强烈的发光效果 + 脉冲动画
  - 蓝色发光（玩家1）或红色发光（玩家2）
  - 边框加粗到 3px
  - 外部发光阴影
  - 2秒循环的缩放脉冲动画
- ✅ 视觉层次：背景圆圈 → 彩色边框 → 外部发光（当前玩家）
- ✅ 所有棋子始终显示玩家颜色，当前回合的棋子额外高亮

**视觉效果**:
```css
/* 普通棋子 */
- 玩家1: 淡蓝色背景 + 2px 蓝色边框
- 玩家2: 淡红色背景 + 2px 红色边框

/* 当前玩家棋子（可操作） */
- 玩家1: 较深蓝色背景 + 3px 蓝色边框 + 蓝色外发光 + 脉冲动画
- 玩家2: 较深红色背景 + 3px 红色边框 + 红色外发光 + 脉冲动画
```

---

## 🎉 已完成功能 (2025-10-16)

### ✅ Bug 修复：玩家指示器错位

**问题描述**:
- 游戏开始时显示"玩家1"操作，但只有上方的4个格子能点击
- 原因：玩家指示器位置与实际棋子位置相反

**修复内容**:
- ✅ 交换上下玩家指示器的玩家编号
- ✅ 上方指示器：玩家2 → 玩家1（蓝色）
- ✅ 下方指示器：玩家1 → 玩家2（红色）
- ✅ 更新激活条件：top 当 currentPlayer === 1，bottom 当 currentPlayer === 2
- ✅ 现在指示器正确对应棋子位置（玩家1在第0行顶部，玩家2在第3行底部）

### ✅ 旋转控制 UI 优化

**旋转按钮**:
- ✅ 添加专用旋转按钮（🔄 图标）
- ✅ 按钮仅在选中棋子时可用
- ✅ 渐变紫色背景，hover 时反转渐变 + 旋转动画
- ✅ 图标在 hover 时旋转 180度

**键盘快捷键**:
- ✅ R 键：旋转选中的棋子
- ✅ ESC 键：取消棋子选择
- ✅ 添加键盘提示面板，显示快捷键说明
- ✅ kbd 标签样式：白色背景，灰色边框，阴影效果

**功能集成**:
- ✅ handleRotate() 函数：调用 GameEngine.rotatePiece()
- ✅ handleKeyPress() 函数：统一处理键盘事件
- ✅ onMounted/onUnmounted 生命周期管理事件监听
- ✅ 旋转后自动重新计算可能的移动位置

### ✅ SVG 文件验证

**验证内容**:
- ✅ 确认 4个 SVG 文件存在于 `/SVG/` 目录
  - 资源 1.svg
  - 资源 2.svg
  - 资源 3.svg
  - 资源 4.svg
- ✅ 常量配置路径正确：`src/constants/chess/pieces.ts`
- ✅ 组件加载逻辑正确：`getPieceSvg()` 函数
- ✅ 无编译错误，开发服务器运行正常

## 🔄 之前完成的功能

### 首页重构 (2025-10-16)
- ✅ 将 ChessView 设为首页路由 (`/`)
- ✅ 移除旧的路由配置 (`/chess`, `/about`)
- ✅ 清理 App.vue：移除导航栏和多余样式
- ✅ 删除旧文件：
  - `src/views/HomeView.vue`
  - `src/views/AboutView.vue`
  - `src/components/HelloWorld.vue`
  - `src/components/TheWelcome.vue`
  - `src/components/WelcomeItem.vue`
  - `src/components/icons/` 文件夹
- ✅ 精简项目结构，专注于棋盘游戏

**移动提示系统** (之前完成):
- ✅ 添加 `possibleMoves = ref<Position[]>([])` 状态
- ✅ 创建 `calculatePossibleMoves()` 函数，使用 `GameEngine.getPossibleMovesForPiece()`
- ✅ 修改 `getCellClass()` 高亮可移动位置
- ✅ 在 `handleCellClick()` 中集成：
  - 选中棋子时计算并显示可能移动
  - 取消选择时清空提示
  - 移动成功/失败后清空/重新计算
- ✅ 添加 CSS 样式：绿色圆圈提示 (`.possible-move::after`)
  - 半透明绿色背景 + 绿色边框
  - hover 时放大效果
  - z-index: 5 确保显示在棋子上方

**规则面板增强** (之前完成):
- ✅ 5大规则模块：基础规则、边缘匹配、移动规则、操作指南、策略提示
- ✅ 现代化 UI：渐变背景、自定义滚动条、代码高亮
- ✅ 提示框样式：`.tip-box` 用于重要提示

## 🔄 历史变更 (4×4 棋盘重构)

### ✅ 已完成的重构

1. **棋盘尺寸调整** - 从 8×8 改为 4×4
   - ✅ 更新 `BOARD_SIZE = 4` 在 `src/constants/chess/board.ts`
   - ✅ 更新起始区域: player1 第0行, player2 第3行
   - ✅ 更新结束区域配置
   - ✅ 调整单元格大小为 100px

2. **SVG 资源整合**
   - ✅ 更新所有4个棋子的 SVG 路径
   - ✅ 从 `/src/assets/pieces/` 改为 `/SVG/资源 X.svg`
   - ✅ 实际使用项目提供的 SVG 文件

3. **UI 组件重构** - `src/components/chess/ChessBoard.vue`
   - ✅ 布局改为左侧棋盘 + 右侧规则面板
   - ✅ 使用 `<img>` 标签渲染 SVG 棋子
   - ✅ 红色背景棋盘 (#c62828)
   - ✅ 白色网格线分隔
   - ✅ 添加空白规则面板容器
   - ✅ 现代化控制按钮样式

4. **样式优化**
   - ✅ 参考用户提供的图片设计
   - ✅ 红色渐变背景棋盘
   - ✅ 玩家指示器动画
   - ✅ 响应式悬停效果

---

## 🎉 今日完成总结 (2025-10-16)

### ✅ 核心系统实现 (100%)

1. **类型系统** - `src/types/chess/index.ts`
   - ✅ EdgeType, Rotation, Player, GameMode, Direction
   - ✅ Position, PieceShape, ChessPiece, BoardCell
   - ✅ Move, GameState, FitCheckResult
   - ✅ 工具函数: isValidPosition, positionsEqual, generatePieceId

2. **常量定义** - `src/constants/chess/`
   - ✅ `pieces.ts`: 4种棋子形状 + 边缘匹配规则
   - ✅ `board.ts`: 棋盘配置 + 区域定义 + 显示设置

3. **EdgeMatcher 类** - `src/classes/chess/EdgeMatcher.ts`
   - ✅ canMatch(): 边缘匹配核心算法
   - ✅ getRotatedEdge(): 旋转边缘计算
   - ✅ checkFit(): 完整拼接检测
   - ✅ 34个单元测试全部通过 ✓

4. **MoveValidator 类** - `src/classes/chess/MoveValidator.ts`
   - ✅ validateMove(): 完整移动验证
   - ✅ getPossibleMoves(): 获取所有合法移动
   - ✅ calculateDistance/ChebyshevDistance()
   - ✅ getDirection(), getPath()
   - ✅ 支持 8 向移动、1-3 格限制、旋转限制

5. **Board 类** - `src/classes/chess/Board.ts`
   - ✅ initializeBoard(): 8×8 棋盘初始化
   - ✅ placePiece(), movePiece(), removePiece()
   - ✅ 支持棋子堆叠
   - ✅ 区域管理 (start/finish zones)
   - ✅ 工具方法: print(), clone(), toArray()

6. **GameEngine 类** - `src/classes/chess/GameEngine.ts`
   - ✅ initialize(): 游戏初始化
   - ✅ startGame(): 放置初始棋子
   - ✅ executeMove(): 执行并验证移动
   - ✅ switchTurn(): 回合切换
   - ✅ pass(), undo(): 跳过和悔棋
   - ✅ checkWinCondition(): 胜利检测

### ✅ UI 组件实现 (80%)

7. **ChessBoard.vue** - `src/components/chess/ChessBoard.vue`
   - ✅ 8×8 可视化棋盘渲染
   - ✅ 玩家信息面板
   - ✅ 棋子显示和选择
   - ✅ 区域高亮 (start/finish zones)
   - ✅ 控制按钮 (跳过/悔棋/重置)
   - ✅ 调试信息面板

8. **ChessView.vue** - `src/views/ChessView.vue`
   - ✅ 棋盘游戏独立视图
   - ✅ 渐变背景设计

9. **路由和导航**
   - ✅ 添加 /chess 路由
   - ✅ 更新主页游戏选择界面
   - ✅ Phase 1 和 Phase 2 游戏分离

---

## ✅ 已完成 (Phase 1)

| 状态 | 任务 | 负责人 | 完成日期 |
|------|------|--------|----------|
| ✅ | 项目初始化 | - | 2025-10-16 |
| ✅ | 简单拼图游戏 (4x4) 实现 | - | 2025-10-16 |
| ✅ | PuzzleBoard 类实现 | - | 2025-10-16 |
| ✅ | PuzzleGame 类实现 | - | 2025-10-16 |
| ✅ | 拖放交互功能 | - | 2025-10-16 |
| ✅ | SVG 资源导入 | - | 2025-10-16 |
| ✅ | 完整设计文档编写 | - | 2025-10-16 |
| ✅ | 开发路线图制定 | - | 2025-10-16 |
| ✅ | Git 仓库初始化 | - | 2025-10-16 |

---

## 🎯 MVP 1.0 - 基础可玩版本 (10-12天)

### Week 1: 核心系统开发

#### Day 1-2: 数据结构与类型系统
| 状态 | 任务 | 优先级 | 预计时间 |
|------|------|--------|----------|
| ✅ | 创建 `src/types/chess/index.ts` | P0 | 2h |
| ✅ | 定义 EdgeType (`1+`, `1-`, `1\`+`, `1\`-`) | P0 | 1h |
| ✅ | 定义 Rotation 类型 (0/90/180/270) | P0 | 0.5h |
| ✅ | 定义 Player, GameMode 枚举 | P0 | 0.5h |
| ✅ | 定义 Direction 枚举 (8个方向) | P0 | 1h |
| ✅ | 创建 Position 接口 | P0 | 0.5h |
| ✅ | 创建 PieceShape 接口 | P0 | 1h |
| ✅ | 创建 ChessPiece 接口 | P0 | 1h |
| ✅ | 创建 BoardCell 接口 | P0 | 1h |
| ✅ | 创建 Move 接口 | P0 | 1h |
| ✅ | 创建 GameState 接口 | P0 | 2h |
| ✅ | 创建 `src/constants/chess/pieces.ts` | P0 | 2h |
| ✅ | 定义 4 种棋子形状数据 | P0 | 2h |
| ✅ | 创建 `src/constants/chess/board.ts` | P0 | 1h |
| ✅ | 定义棋盘配置常量 | P0 | 1h |

#### Day 3-4: 边缘匹配算法
| 状态 | 任务 | 优先级 | 预计时间 |
|------|------|--------|----------|
| ✅ | 创建 `src/classes/chess/EdgeMatcher.ts` | P0 | 1h |
| ✅ | 实现 `canMatch()` 方法 | P0 | 2h |
| ✅ | 实现 `getRotatedEdge()` 方法 | P0 | 3h |
| ✅ | 实现 `getOppositeSide()` 方法 | P0 | 1h |
| ✅ | 实现 `checkFit()` 方法 | P0 | 4h |
| ✅ | 创建 EdgeMatcher 测试文件 | P0 | 2h |
| ✅ | 编写所有边缘组合测试 (16种) | P0 | 3h |
| ✅ | 编写旋转测试 (4个角度) | P0 | 2h |
| ✅ | 所有测试通过 (34个测试全通过) | P0 | - |

#### Day 5: 移动验证系统
| 状态 | 任务 | 优先级 | 预计时间 |
|------|------|--------|----------|
| ✅ | 创建 `src/classes/chess/MoveValidator.ts` | P0 | 1h |
| ✅ | 实现 `validateMove()` 方法 | P0 | 4h |
| ✅ | 实现 `getPossibleMoves()` 方法 | P0 | 4h |
| ✅ | 实现 `calculateDistance()` 方法 | P0 | 2h |
| ✅ | 实现 `getDirection()` 方法 | P0 | 2h |
| ✅ | 实现 `getPath()` 方法 | P0 | 2h |
| ⏸️ | 创建 MoveValidator 测试 (有内存问题需修复) | P0 | 3h |
| ⏸️ | 测试 8 个方向移动 | P0 | 2h |
| ⏸️ | 测试 1-3 格移动限制 | P0 | 2h |
| ⏸️ | 测试旋转移动限制 (只能1格) | P0 | 2h |

### Week 2: 游戏逻辑与UI

#### Day 6-7: 棋盘管理系统
| 状态 | 任务 | 优先级 | 预计时间 |
|------|------|--------|----------|
| ✅ | 创建 `src/classes/chess/Board.ts` | P0 | 1h |
| ✅ | 实现 `initializeBoard()` - 8x8棋盘 | P0 | 3h |
| ✅ | 定义起始区域 (玩家1: row 0-1) | P0 | 2h |
| ✅ | 定义终点区域 (互换) | P0 | 2h |
| ✅ | 实现 `placePiece()` 方法 | P0 | 3h |
| ✅ | 实现 `movePiece()` 方法 | P0 | 3h |
| ✅ | 实现 `removePiece()` 方法 | P0 | 2h |
| ✅ | 实现棋子堆叠逻辑 | P0 | 3h |
| ✅ | 实现 `getCellsInZone()` 方法 | P0 | 2h |
| ⏸️ | 创建 Board 测试 | P0 | 3h |
| ⏸️ | 测试棋盘初始化 | P0 | 1h |
| ⏸️ | 测试棋子放置和移动 | P0 | 2h |

#### Day 8-9: 游戏引擎
| 状态 | 任务 | 优先级 | 预计时间 |
|------|------|--------|----------|
| ⏸️ | 创建 `src/classes/chess/GameEngine.ts` | P0 | 1h |
| ⏸️ | 实现 `initialize()` 方法 | P0 | 3h |
| ⏸️ | 实现 `executeMove()` 方法 | P0 | 4h |
| ⏸️ | 实现 `switchTurn()` 方法 | P0 | 2h |
| ⏸️ | 实现 `rotatePiece()` 方法 | P0 | 3h |
| ⏸️ | 创建 `src/classes/chess/GameRules.ts` | P0 | 1h |
| ⏸️ | 实现 `checkWin()` - 胜利判定 | P0 | 4h |
| ⏸️ | 创建 GameEngine 测试 | P0 | 3h |
| ⏸️ | 测试游戏初始化 | P0 | 1h |
| ⏸️ | 测试回合切换 | P0 | 1h |
| ⏸️ | 测试胜利条件 | P0 | 2h |

#### Day 10-11: UI 基础组件
| 状态 | 任务 | 优先级 | 预计时间 |
|------|------|--------|----------|
| ⏸️ | 创建 `src/components/chess/GameBoard.vue` | P0 | 3h |
| ⏸️ | 实现 8x8 棋盘网格渲染 | P0 | 3h |
| ⏸️ | 添加坐标标识 (行列) | P1 | 2h |
| ⏸️ | 创建 `src/components/chess/GameCell.vue` | P0 | 2h |
| ⏸️ | 实现格子状态显示 | P0 | 2h |
| ⏸️ | 实现高亮显示 (可移动/选中) | P0 | 3h |
| ⏸️ | 创建 `src/components/chess/GamePiece.vue` | P0 | 3h |
| ⏸️ | 实现 SVG 棋子渲染 | P0 | 4h |
| ⏸️ | 实现棋子旋转显示 | P0 | 3h |
| ⏸️ | 玩家颜色区分 (蓝色/红色) | P0 | 2h |
| ⏸️ | 创建 `src/components/chess/PlayerInfo.vue` | P0 | 2h |
| ⏸️ | 显示玩家信息 | P0 | 2h |
| ⏸️ | 创建 `src/views/chess/GameView.vue` | P0 | 2h |

#### Day 12: 交互与集成
| 状态 | 任务 | 优先级 | 预计时间 |
|------|------|--------|----------|
| ✅ | 实现点击选择棋子 | P0 | 3h |
| ⏸️ | 高亮显示可移动位置 | P0 | 3h |
| ✅ | 实现点击移动操作 | P0 | 3h |
| ⏸️ | 实现拖拽移动 (可选) | P1 | 4h |
| ⏸️ | 实现旋转控制 | P0 | 3h |
| ✅ | 集成所有组件 | P0 | 4h |
| ⏸️ | 创建 Pinia store (暂不实现) | P2 | 3h |
| ⏸️ | MVP 1.0 端到端测试 | P0 | 4h |
| ⏸️ | Bug 修复 | P0 | 4h |
| ⏸️ | **MVP 1.0 发布** | P0 | - |

---

## 🎮 MVP 2.0 - 完整规则版本 (+5-6天)

### Day 13: 威胁机制
| 状态 | 任务 | 优先级 | 预计时间 |
|------|------|--------|----------|
| ⏸️ | 实现 `checkThreat()` 方法 | P1 | 4h |
| ⏸️ | 实现 `isBlockingWin()` 方法 | P1 | 3h |
| ⏸️ | 创建 `ThreatNotification.vue` 组件 | P1 | 3h |
| ⏸️ | 实现威胁声明 UI | P1 | 2h |
| ⏸️ | 测试威胁检测 | P1 | 3h |

### Day 14: 跳过与悔棋
| 状态 | 任务 | 优先级 | 预计时间 |
|------|------|--------|----------|
| ✅ | 实现 `pass()` 方法 | P1 | 2h |
| ⏸️ | 实现连续跳过检测 | P1 | 2h |
| ✅ | 实现 `undo()` 方法 | P1 | 3h |
| ✅ | 保存移动历史 | P1 | 2h |
| ⏸️ | 实现 `isPlayerBlocked()` 完全封锁 | P1 | 4h |
| ✅ | 添加控制按钮 UI | P1 | 2h |

### Day 15: 游戏模式与UI完善
| 状态 | 任务 | 优先级 | 预计时间 |
|------|------|--------|----------|
| ⏸️ | 创建主菜单 | P1 | 3h |
| ⏸️ | 规则说明页面内容填充 | P1 | 3h |
| ⏸️ | 高亮显示可移动位置 | P1 | 3h |
| ⏸️ | 添加旋转控制 UI | P1 | 3h |
| ⏸️ | 移动历史显示 | P1 | 2h |

### Day 16: 动画系统
| 状态 | 任务 | 优先级 | 预计时间 |
|------|------|--------|----------|
| ⏸️ | 棋子移动动画 | P2 | 4h |
| ⏸️ | 旋转动画 (3D 翻转) | P2 | 4h |
| ⏸️ | 拼接成功动画 | P2 | 3h |
| ⏸️ | 胜利动画 (烟花) | P2 | 4h |
| ⏸️ | 音效系统 (可选) | P3 | 4h |

### Day 17-18: 测试与优化
| 状态 | 任务 | 优先级 | 预计时间 |
|------|------|--------|----------|
| ⏸️ | 完整流程测试 | P1 | 4h |
| ⏸️ | 规则验证 | P1 | 3h |
| ⏸️ | Bug 修复 | P1 | 4h |
| ⏸️ | **MVP 2.0 发布** | P1 | - |

---

## 🚀 MVP 3.0 - 高级功能版本 (+3-5天)

### Day 19-20: 状态管理与持久化
| 状态 | 任务 | 优先级 | 预计时间 |
|------|------|--------|----------|
| ⏸️ | 完善 Pinia store | P2 | 4h |
| ⏸️ | 游戏存档功能 | P2 | 4h |
| ⏸️ | 自动保存 | P2 | 3h |
| ⏸️ | 恢复游戏 | P2 | 3h |
| ⏸️ | 创建 `MoveHistory.vue` | P2 | 3h |
| ⏸️ | 实现历史回放 | P2 | 4h |

### Day 19-20: 状态管理与持久化
| 状态 | 任务 | 优先级 | 预计时间 |
|------|------|--------|----------|
| ⏸️ | 完善 Pinia store | P2 | 4h |
| ⏸️ | 游戏存档功能 | P2 | 4h |
| ⏸️ | 自动保存 | P2 | 3h |
| ⏸️ | 恢复游戏 | P2 | 3h |
| ⏸️ | 创建 `MoveHistory.vue` | P2 | 3h |
| ⏸️ | 实现历史回放 | P2 | 4h |

### Day 21: 统计系统
| 状态 | 任务 | 优先级 | 预计时间 |
|------|------|--------|----------|
| ⏸️ | 游戏统计 (胜率/步数) | P2 | 4h |
| ⏸️ | 增强 `WinDialog.vue` | P2 | 3h |
| ⏸️ | 显示统计数据 | P2 | 2h |
| ⏸️ | 分享战绩功能 | P3 | 3h |

### Day 22-23: 优化与部署
| 状态 | 任务 | 优先级 | 预计时间 |
|------|------|--------|----------|
| ⏸️ | 性能优化 | P2 | 4h |
| ⏸️ | 响应式适配 | P2 | 4h |
| ⏸️ | 文档完善 | P2 | 3h |
| ⏸️ | 构建优化 | P2 | 3h |
| ⏸️ | 部署上线 | P2 | 2h |
| ⏸️ | **MVP 3.0 发布** | P2 | - |

---

## 📝 附加任务 (低优先级)

| 状态 | 任务 | 优先级 | 预计时间 |
|------|------|--------|----------|
| ⏸️ | 多语言支持 (中/英) | P3 | 6h |
| ⏸️ | 主题切换 (暗黑模式) | P3 | 4h |
| ⏸️ | 键盘快捷键 | P3 | 3h |
| ⏸️ | 触摸屏优化 | P3 | 4h |
| ⏸️ | 排行榜系统 | P3 | 8h |
| ⏸️ | 成就系统 | P3 | 6h |

---

## 🤖 AI 相关功能 (暂不实现)

> **说明**: 以下 AI 相关功能暂时不纳入开发计划，专注于 PvP 双人对战体验。  
> 如需添加 AI 对手，可在后续版本中独立开发。

### AI 系统 (EASY 难度)
| 状态 | 任务 | 优先级 | 备注 |
|------|------|--------|------|
| 🔒 | 创建 `src/classes/chess/AIPlayer.ts` | - | 暂不实现 |
| 🔒 | 实现局面评估函数 | - | 暂不实现 |
| 🔒 | 实现 EASY 难度 (随机移动) | - | 暂不实现 |
| 🔒 | AI 思考可视化 | - | 暂不实现 |
| 🔒 | 测试 AI 基础功能 | - | 暂不实现 |

### AI 系统 (MEDIUM/HARD 难度)
| 状态 | 任务 | 优先级 | 备注 |
|------|------|--------|------|
| 🔒 | 实现 MEDIUM AI (贪心算法) | - | 暂不实现 |
| 🔒 | 实现 HARD AI (Minimax) | - | 暂不实现 |
| 🔒 | Alpha-Beta 剪枝优化 | - | 暂不实现 |
| 🔒 | 测试高级 AI | - | 暂不实现 |

### AI 相关 UI
| 状态 | 任务 | 优先级 | 备注 |
|------|------|--------|------|
| 🔒 | 创建 `GameModeSelector.vue` (PvE模式) | - | 暂不实现 |
| 🔒 | PvP/PvE 模式切换 | - | 暂不实现 |
| 🔒 | AI 难度选择界面 | - | 暂不实现 |
| 🔒 | AI 测试专项 | - | 暂不实现 |

### 在线对战 (需要后端支持)
| 状态 | 任务 | 优先级 | 备注 |
|------|------|--------|------|
| 🔒 | WebSocket 服务器搭建 | - | 暂不实现 |
| 🔒 | 在线匹配系统 | - | 暂不实现 |
| 🔒 | 房间管理 | - | 暂不实现 |
| 🔒 | 实时同步 | - | 暂不实现 |
| 🔒 | 在线对战 (WebSocket) | P3 | 暂不实现 |

---

## 📊 进度统计

**总任务数**: 约 100+ 任务 (不含 AI)  
**已完成**: 约 50 任务  
**进行中**: 0 任务  
**待开始**: 约 50 任务  
**暂不实现**: 约 30 任务 (AI 相关)

**预计总时间**: 15-20 天 (不含 AI)  
**当前进度**: 50% (MVP 1.0 完成，进入 MVP 2.0)

---

## 🏷️ 优先级说明

- **P0**: 核心功能，必须完成 (MVP 1.0)
- **P1**: 重要功能，应该完成 (MVP 2.0)
- **P2**: 增强功能，可以完成 (MVP 3.0)
- **P3**: 锦上添花，有时间再做

---

## 📌 使用说明

1. **更新状态**: 完成任务后，将 `⏸️` 改为 `✅`
2. **添加负责人**: 在"负责人"列填写开发者名称
3. **记录时间**: 在"完成日期"列填写实际完成日期
4. **估时调整**: 根据实际情况调整"预计时间"

---

**最后更新**: 2025-10-16  
**下次审查**: 每周五进行进度回顾
