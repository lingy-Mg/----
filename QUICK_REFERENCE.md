# 🎮 拼图棋盘游戏 - 快速参考卡

## ⚡ 快速启动

```bash
pnpm dev           # 启动开发服务器
http://localhost:5174/chess  # 访问游戏
```

---

## 🎯 核心配置

| 配置项 | 值 |
|--------|-----|
| 棋盘大小 | 4×4 (16格) |
| 单元格 | 100px × 100px |
| 背景色 | #c62828 (红色) |
| 每方棋子数 | 4个 |
| 起始位置 | P1: 第0行, P2: 第3行 |

---

## 📁 关键文件

```
src/constants/chess/
  ├── board.ts          # 棋盘配置
  └── pieces.ts         # 棋子形状 + SVG路径

src/classes/chess/
  ├── EdgeMatcher.ts    # 边缘匹配算法
  ├── MoveValidator.ts  # 移动验证
  ├── Board.ts          # 棋盘管理
  └── GameEngine.ts     # 游戏引擎

src/components/chess/
  └── ChessBoard.vue    # UI组件

SVG/
  ├── 资源 1.svg        # 棋子1 SVG
  ├── 资源 2.svg        # 棋子2 SVG
  ├── 资源 3.svg        # 棋子3 SVG
  └── 资源 4.svg        # 棋子4 SVG
```

---

## 🧩 边缘匹配规则

```
✅ 可以匹配:
1+  ←→ 1-   (凸配凹)
1`+ ←→ 1`-  (反凸配反凹)

❌ 不能匹配:
1+  ←→ 1`-  (类型不同)
1-  ←→ 1`+  (类型不同)
```

---

## 🎲 4种棋子形状

| 棋子 | 上 | 右 | 下 | 左 | SVG |
|------|----|----|----|----|-----|
| 1 | 1- | 1`- | 1`- | 1- | `/SVG/资源 1.svg` |
| 2 | 1+ | 1- | 1`- | 1`+ | `/SVG/资源 2.svg` |
| 3 | 1`+ | 1- | 1`- | 1+ | `/SVG/资源 3.svg` |
| 4 | 1`+ | 1+ | 1`+ | 1+ | `/SVG/资源 4.svg` |

---

## 🎯 移动规则

- **方向**: 8向（直线+对角线）
- **距离**: 1-3格
- **旋转**: 需要旋转时只能移动1格
- **堆叠**: 允许（可越过其他棋子）
- **匹配**: 移动后所有相邻边必须匹配

---

## 🏆 胜利条件

玩家1: 所有棋子到达第3行（底部）  
玩家2: 所有棋子到达第0行（顶部）

---

## 🔧 常用命令

```bash
# 开发
pnpm dev              # 启动开发服务器
pnpm type-check       # 类型检查

# 测试
pnpm test:unit        # 运行单元测试
pnpm vitest watch     # 监视模式

# 构建
pnpm build            # 生产构建
pnpm preview          # 预览构建结果

# Git
git log --oneline     # 查看提交历史
git status            # 查看状态
```

---

## 🐛 快速调试

### 查看游戏状态
```javascript
// 浏览器控制台
gameEngine.value.getGameState()
```

### SVG加载失败？
1. 检查 `/SVG/资源 X.svg` 文件是否存在
2. 打开 F12 → Network 标签
3. 查找 404 错误

### 棋子无法移动？
1. 打开控制台查看错误
2. 检查是否轮到当前玩家
3. 验证目标格子是否合法

---

## 📚 文档索引

| 文档 | 用途 |
|------|------|
| `DESIGN_DOCUMENT.md` | 完整设计规范 |
| `ROADMAP.md` | 开发路线图 |
| `TODO.md` | 任务清单 |
| `4X4_REFACTOR_REPORT.md` | 重构详情 |
| `TESTING_GUIDE.md` | 测试指南 |
| `REFACTOR_SUMMARY.md` | 总结报告 |

---

## ✅ 待办（用户）

- [ ] 填充规则面板内容
- [ ] 测试游戏功能
- [ ] 验证 SVG 加载
- [ ] 添加移动提示
- [ ] 收集反馈

---

## 📊 当前进度

```
MVP 1.0: ████████████████████ 90%
├─ 核心逻辑: ███████████████████ 100%
├─ UI组件:   ████████████████    85%
└─ 文档:     ███████████████████ 100%
```

---

*最后更新: 2025-01-XX*  
*版本: MVP 1.0 (4×4)*
